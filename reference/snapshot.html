<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Snapshot a Project — snapshot • renv</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Snapshot a Project — snapshot" />

<meta property="og:description" content="Call snapshot() to create a lockfile capturing the state of a project's
R package dependencies. The lockfile can be used to later restore these
project's dependencies as required. See the lockfile documentation for more
details on the structure of a lockfile." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">renv</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0.66</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/renv.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/collaborating.html">Collaborating with renv</a>
    </li>
    <li>
      <a href="../articles/docker.html">Using renv with Docker</a>
    </li>
    <li>
      <a href="../articles/local-sources.html">Local Sources</a>
    </li>
    <li>
      <a href="../articles/lockfile.html">Lockfiles</a>
    </li>
    <li>
      <a href="../articles/python.html">Python Integration</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Snapshot a Project</h1>
    
    <div class="hidden name"><code>snapshot.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Call <code>snapshot()</code> to create a <strong>lockfile</strong> capturing the state of a project's
<span style="R">R</span> package dependencies. The lockfile can be used to later restore these
project's dependencies as required. See the <a href='lockfile.html'>lockfile</a> documentation for more
details on the structure of a lockfile.</p>
    
    </div>

    <pre class="usage"><span class='fu'>snapshot</span>(<span class='kw'>project</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>, <span class='kw'>library</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>lockfile</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='no'>project</span>, <span class='st'>"renv.lock"</span>),
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='no'>settings</span>$<span class='fu'>snapshot.type</span>(<span class='kw'>project</span> <span class='kw'>=</span> <span class='no'>project</span>),
  <span class='kw'>confirm</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/interactive'>interactive</a></span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>project</th>
      <td><p>The project directory. If <code>NULL</code>, then the active project will
be used. If no project is currently active, then the current working
directory is used instead.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Optional arguments; reserved for future expansion.</p></td>
    </tr>
    <tr>
      <th>library</th>
      <td><p>The <span style="R">R</span> libraries to snapshot. When <code>NULL</code>, the active <span style="R">R</span>
libraries (as reported by <code><a href='https://www.rdocumentation.org/packages/base/topics/libPaths'>.libPaths()</a></code>) are used.</p></td>
    </tr>
    <tr>
      <th>lockfile</th>
      <td><p>The location where the generated lockfile should be written.
By default, the lockfile is written to a file called <code>renv.lock</code> in the
project directory. When <code>NULL</code>, the lockfile (as an <span style="R">R</span> object) is returned
directly instead.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>The type of snapshot to perform. See <strong>Snapshot Type</strong> for
more details. When <code>NULL</code> (the default), a "packrat"-style snapshot
is performed.</p></td>
    </tr>
    <tr>
      <th>confirm</th>
      <td><p>Boolean; prompt the user before taking any action?</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="snapshot-type"><a class="anchor" href="#snapshot-type"></a>Snapshot Type</h2>

    
    <p>Depending on how you prefer to manage dependencies, you might prefer
selecting a different snapshot mode. The modes available are as follows:</p>
<dl class='dl-horizontal'>
    <dt><code>"simple"</code></dt><dd><p>All packages within the active libraries are included in the lockfile.
This is the quickest and simplest method, but may lead to packages
(e.g. development dependencies) entering the lockfile, which can be
undesired.</p></dd>
    <dt><code>"packrat"</code></dt><dd><p>Perform a Packrat-style snapshot. The intersection of packages discovered
in your <span style="R">R</span> libraries, alongside those discovered by <code><a href='dependencies.html'>renv::dependencies()</a></code>,
will enter the lockfile. This helps ensure that only the packages you are
using will enter the lockfile, but may be slower if your project contains
a large number of files. The <code>snapshot.timeout</code> <a href='config.html'>config</a> option can be
used to control the maximum amount of time that can be spent discovering
dependencies.</p></dd>
    <dt><code>"custom"</code></dt><dd><p>Like <code>"packrat"</code>, but use a custom user-defined filter instead. The filter
should be specified by the <span style="R">R</span> option <code>renv.snapshot.filter</code>, and should
either be a character vector naming a function (e.g. <code>"package::method"</code>),
or be a function itself. The function should only accept one argument (the
project directory), and should return a vector of package names to include
in the lockfile.</p></dd>
    </dl>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other reproducibility: <code><a href='lockfile.html'>lockfile</a></code>,
  <code><a href='restore.html'>restore</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># disable automatic snapshots</span>
<span class='no'>auto.snapshot</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/options'>getOption</a></span>(<span class='st'>"renv.config.auto.snapshot"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/options'>options</a></span>(<span class='kw'>renv.config.auto.snapshot</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># initialize a new project (with an empty R library)</span>
<span class='kw pkg'>renv</span><span class='kw ns'>::</span><span class='fu'><a href='https://rstudio.github.io/renv//reference/init.html'>init</a></span>(<span class='kw'>bare</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># install digest 0.6.19</span>
<span class='kw pkg'>renv</span><span class='kw ns'>::</span><span class='fu'><a href='https://rstudio.github.io/renv//reference/install.html'>install</a></span>(<span class='st'>"digest@0.6.19"</span>)

<span class='co'># save library state to lockfile</span>
<span class='kw pkg'>renv</span><span class='kw ns'>::</span><span class='fu'><a href='https://rstudio.github.io/renv//reference/snapshot.html'>snapshot</a></span>()

<span class='co'># remove digest from library</span>
<span class='kw pkg'>renv</span><span class='kw ns'>::</span><span class='fu'><a href='https://rstudio.github.io/renv//reference/remove.html'>remove</a></span>(<span class='st'>"digest"</span>)

<span class='co'># check library status</span>
<span class='kw pkg'>renv</span><span class='kw ns'>::</span><span class='fu'><a href='https://rstudio.github.io/renv//reference/status.html'>status</a></span>()

<span class='co'># restore lockfile, thereby reinstalling digest 0.6.19</span>
<span class='kw pkg'>renv</span><span class='kw ns'>::</span><span class='fu'><a href='https://rstudio.github.io/renv//reference/restore.html'>restore</a></span>()

<span class='co'># restore automatic snapshots</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/options'>options</a></span>(<span class='kw'>renv.config.auto.snapshot</span> <span class='kw'>=</span> <span class='no'>auto.snapshot</span>)

<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#snapshot-type">Snapshot Type</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Kevin Ushey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

